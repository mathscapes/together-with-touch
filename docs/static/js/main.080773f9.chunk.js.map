{"version":3,"sources":["App.js","index.js"],"names":["AMinorScale","addOctaveNumbers","scale","octaveNumber","map","note","firstOctaveNoteIndex","indexOf","noteOctaveNumber","constructMajorChord","octave","rootNote","scaleWithOctave","getNextChordNote","nextNoteNumber","nextNote","nextNoteInScaleIndex","updatedOctave","parseInt","slice","Tone","bpm","value","IChord","VChord","VIChord","IVChord","push","console","log","synth","volume","oscillator","type","toDestination","mainChords","IChord1","time","triggerAttackRelease","duration","start","VChord1","VIChord1","IVChord1","count","spread","highOctaveChords","highSynth","synth2","lowPass","frequency","snareDrum","noise","playbackRate","envelope","attack","decay","sustain","release","connect","kickDrum","bass","autoFilter","baseFrequency","octaves","SG","stop","words","includes","player","url","autostart","filter","feedbackDelay","loop","distortion","controls","dat","add","modulation","App","useState","playing","setPlaying","lastMessage","setLog","pushToConsole","message","n","Date","toLocaleTimeString","concat","handleStart","a","handleStop","testInputonKeyDown","event","key","target","split","receive","className","index","href","onClick","disabled","onKeyDown","placeholder","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.080773f9.chunk.js","sourcesContent":["/**\n * Together with Touch - Bangalore 2021\n */\n\nimport './App.css';\nimport * as Tone from 'tone';\nimport React, { useState } from 'react';\nimport * as dat from 'dat.gui';\nimport { AutoFilter } from 'tone';\n\nconst AMinorScale = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];\nconst addOctaveNumbers = (scale, octaveNumber) => scale.map(note => {\n    const firstOctaveNoteIndex = scale.indexOf('C') !== -1 ? scale.indexOf('C') : scale.indexOf('C#')\n    const noteOctaveNumber = scale.indexOf(note) < firstOctaveNoteIndex ? octaveNumber - 1 : octaveNumber;\n    return `${note}${noteOctaveNumber}`\n});\n\nconst constructMajorChord = (scale, octave, rootNote) => {\n    const scaleWithOctave = addOctaveNumbers(scale, octave);\n\n    const getNextChordNote = (note, nextNoteNumber) => {\n        const nextNoteInScaleIndex = scaleWithOctave.indexOf(note) + nextNoteNumber - 1;\n        let nextNote;\n        if (typeof (scaleWithOctave[nextNoteInScaleIndex]) !== 'undefined') {\n            nextNote = scaleWithOctave[nextNoteInScaleIndex];\n        } else {\n            nextNote = scaleWithOctave[nextNoteInScaleIndex - 7];\n            const updatedOctave = parseInt(nextNote.slice(1)) + 1;\n            nextNote = `${nextNote.slice(0, 1)}${updatedOctave}`;\n        }\n\n        return nextNote;\n    }\n\n    const thirdNote = getNextChordNote(rootNote, 3)\n    const fifthNote = getNextChordNote(rootNote, 5)\n    const chord = [rootNote, thirdNote, fifthNote]\n\n    return chord\n}\n\nconst constructChords = (scale, octave) => {\n    const scaleWithOctave = addOctaveNumbers(scale, octave);\n\n    const getNextChordNote = (note, nextNoteNumber) => {\n        const nextNoteInScaleIndex = scaleWithOctave.indexOf(note) + nextNoteNumber - 1;\n        let nextNote;\n        if (typeof (scaleWithOctave[nextNoteInScaleIndex]) !== 'undefined') {\n            nextNote = scaleWithOctave[nextNoteInScaleIndex];\n        } else {\n            nextNote = scaleWithOctave[nextNoteInScaleIndex - 6];\n            const updatedOctave = parseInt(nextNote.slice(1)) + 1;\n            nextNote = `${nextNote.slice(0, 1)}${updatedOctave}`;\n        }\n\n        return nextNote;\n    }\n\n\n    const chordArray = scaleWithOctave.map(note => {\n        let thirdNote = getNextChordNote(note, 3)\n        let fifthNote = getNextChordNote(note, 5)\n\n        const chord = [note, thirdNote, fifthNote]\n\n        return chord\n    })\n\n    return chordArray;\n}\n\nTone.Transport.bpm.value = 150\n\nconst IChord = constructMajorChord(AMinorScale, 4, 'A3');\nconst VChord = constructMajorChord(AMinorScale, 4, 'E4');\nconst VIChord = constructMajorChord(AMinorScale, 3, 'F3');\nconst IVChord = constructMajorChord(AMinorScale, 3, 'D3');\n\nIChord.push('A2', 'G4')\nVChord.push('E2', 'G3')\nVIChord.push('F2', 'E4')\nIVChord.push('D2', 'C4')\n\nconsole.log(IChord);\nconsole.log(VChord);\nconsole.log(VIChord);\nconsole.log(IVChord);\n\n\nconst synth = new Tone.PolySynth(Tone.Synth, {\n    volume: -5,\n    oscillator: {\n        type: \"sawtooth\"\n    }\n}).toDestination();\n\nconst mainChords = [\n    { 'time': 0, 'note': IChord, 'duration': '2n.' },\n    { 'time': '0:3', 'note': VChord, 'duration': '4n' },\n    { 'time': '1:0', 'note': VIChord, 'duration': '2n.' },\n    { 'time': '1:3', 'note': VChord, 'duration': '4n' },\n    { 'time': '2:0', 'note': IVChord, 'duration': '2n.' },\n    { 'time': '2:3', 'note': VChord, 'duration': '4n' },\n    { 'time': '3:0', 'note': VIChord, 'duration': '2n' },\n    { 'time': '3:2', 'note': VChord, 'duration': '4n' },\n    { 'time': '3:3', 'note': IVChord, 'duration': '4n' },\n    { 'time': '4:0', 'note': IChord, 'duration': '2n.' },\n    { 'time': '4:3', 'note': VChord, 'duration': '4n' },\n    { 'time': '5:0', 'note': VIChord, 'duration': '2n.' },\n    { 'time': '5:3', 'note': VChord, 'duration': '4n' },\n    { 'time': '6:0', 'note': IVChord, 'duration': '2n.' },\n    { 'time': '6:3', 'note': VChord, 'duration': '4n' },\n    { 'time': '7:0', 'note': VIChord, 'duration': '2n' },\n    { 'time': '7:2', 'note': VChord, 'duration': '4n' },\n    { 'time': '7:3', 'note': IVChord, 'duration': '4n' },\n];\n\nconst part = new Tone.Part(function (time, note) {\n    synth.triggerAttackRelease(note.note, note.duration, time);\n}, mainChords).start(0);\n\nconst IChord1 = constructMajorChord(AMinorScale, 5, 'A4');\nconst VChord1 = constructMajorChord(AMinorScale, 5, 'E5');\nconst VIChord1 = constructMajorChord(AMinorScale, 4, 'F4');\nconst IVChord1 = constructMajorChord(AMinorScale, 4, 'D4');\n\nIChord.push('A3', 'G5')\nVChord.push('E3', 'D5')\nVIChord.push('F3', 'E5')\nIVChord.push('D3', 'C5')\n\n\nconst mainChordPart = new Tone.PolySynth(Tone.Synth, {\n    oscillator: {\n        count: 6,\n        spread: 80,\n        type: \"fatsawtooth\"\n    }\n}).toDestination();\n\nconst highOctaveChords = [\n    { 'time': 0, 'note': IChord1, 'duration': '2n.' },\n    { 'time': '0:3', 'note': VChord1, 'duration': '4n' },\n    { 'time': '1:0', 'note': VIChord1, 'duration': '2n.' },\n    { 'time': '1:3', 'note': VChord1, 'duration': '4n' },\n    { 'time': '2:0', 'note': IVChord1, 'duration': '2n.' },\n    { 'time': '2:3', 'note': VChord1, 'duration': '4n' },\n    { 'time': '3:0', 'note': VIChord1, 'duration': '2n' },\n    { 'time': '3:2', 'note': VChord1, 'duration': '4n' },\n    { 'time': '3:3', 'note': IVChord1, 'duration': '4n' },\n    { 'time': '4:0', 'note': IChord1, 'duration': '2n.' },\n    { 'time': '4:3', 'note': VChord1, 'duration': '4n' },\n    { 'time': '5:0', 'note': VIChord1, 'duration': '2n.' },\n    { 'time': '5:3', 'note': VChord1, 'duration': '4n' },\n    { 'time': '6:0', 'note': IVChord1, 'duration': '2n.' },\n    { 'time': '6:3', 'note': VChord1, 'duration': '4n' },\n    { 'time': '7:0', 'note': VIChord1, 'duration': '2n' },\n    { 'time': '7:2', 'note': VChord1, 'duration': '4n' },\n    { 'time': '7:3', 'note': IVChord1, 'duration': '4n' },\n];\n\nconst highSynth = new Tone.PolySynth(Tone.Synth, {\n    volume: -16,\n    count: 6,\n    spread: 80,\n    oscillator: {\n        type: \"fatsawtooth\"\n    }\n}).toDestination();\n\nconst highOctaveChordPart = new Tone.Part(function (time, note) {\n    highSynth.triggerAttackRelease(note.note, note.duration, time, 0.5);\n}, highOctaveChords).start(0);\n\n\nconst mainMelody = [\n    { 'time': 0, 'note': 'G4', 'duration': '8n' },\n    { 'time': '0:0:2', 'note': 'F4', 'duration': '8n' },\n    { 'time': '0:1', 'note': 'D4', 'duration': '8n.' },\n    { 'time': '0:2', 'note': 'D4', 'duration': '8n' },\n    { 'time': '0:2:2', 'note': 'F4', 'duration': '8n.' },\n    { 'time': '0:3', 'note': 'G4', 'duration': '8n' },\n    { 'time': '0:3:2', 'note': 'A4', 'duration': '2n' },\n    { 'time': '2:0', 'note': 'A4', 'duration': '8n' },\n    { 'time': '2:0:2', 'note': 'G4', 'duration': '8n' },\n    { 'time': '2:1', 'note': 'F4', 'duration': '8n' },\n    { 'time': '2:2', 'note': 'A4', 'duration': '8n' },\n    { 'time': '2:2:2', 'note': 'G4', 'duration': '8n' },\n    { 'time': '2:3', 'note': 'E4', 'duration': '8n' },\n    { 'time': '2:3:2', 'note': 'F4', 'duration': '2n' },\n    { 'time': '4:0', 'note': 'G4', 'duration': '8n' },\n    { 'time': '4:0:2', 'note': 'F4', 'duration': '8n' },\n    { 'time': '4:1', 'note': 'D4', 'duration': '8n' },\n    { 'time': '4:2', 'note': 'F4', 'duration': '8n' },\n    { 'time': '4:2:2', 'note': 'A4', 'duration': '8n' },\n    { 'time': '4:3', 'note': 'G4', 'duration': '8n' },\n    { 'time': '4:3:2', 'note': 'A4', 'duration': '2n' },\n    { 'time': '5:2:2', 'note': 'G4', 'duration': '8n' },\n    { 'time': '5:3', 'note': 'A4', 'duration': '8n' },\n    { 'time': '5:3:2', 'note': 'B4', 'duration': '8n' },\n    { 'time': '6:0', 'note': 'C5', 'duration': '8n' },\n    { 'time': '6:1', 'note': 'B4', 'duration': '8n' },\n    { 'time': '6:1:2', 'note': 'A4', 'duration': '8n' },\n    { 'time': '6:2', 'note': 'B4', 'duration': '8n' },\n    { 'time': '6:2:2', 'note': 'A4', 'duration': '8n' },\n    { 'time': '6:3', 'note': 'G4', 'duration': '8n' },\n    { 'time': '6:3:2', 'note': 'A4', 'duration': '1n' },\n];\n\nconst synth2 = new Tone.Synth({\n    oscillator: {\n        volume: 5,\n        count: 3,\n        spread: 40,\n        type: \"fatsawtooth\"\n    }\n}).toDestination();\n\nconst mainMelodyPart = new Tone.Part(function (time, note) {\n    synth2.triggerAttackRelease(note.note, note.duration, time);\n}, mainMelody).start(0);\n\n\nconst lowPass = new Tone.Filter({\n    frequency: 8000,\n}).toDestination();\n\nconst snareDrum = new Tone.NoiseSynth({\n    noise: {\n        type: 'white',\n        playbackRate: 3,\n    },\n    envelope: {\n        attack: 0.001,\n        decay: 0.20,\n        sustain: 0.15,\n        release: 0.03,\n    },\n}).connect(lowPass);\n\nconst snares = [\n    { time: '0:2' },\n    { time: '1:2' },\n    { time: '2:2' },\n    { time: '3:2' },\n    { time: '4:2' },\n    { time: '5:2' },\n    { time: '6:2' },\n    { time: '7:2' },\n]\n\nconst snarePart = new Tone.Part(function (time) {\n    snareDrum.triggerAttackRelease('4n', time)\n}, snares).start(0);\n\n\nconst kickDrum = new Tone.MembraneSynth({\n    volume: 6\n}).toDestination();\n\nconst kicks = [\n    { time: '0:0' },\n    { time: '0:3:2' },\n    { time: '1:1' },\n    { time: '2:0' },\n    { time: '2:1:2' },\n    { time: '2:3:2' },\n    { time: '3:0:2' },\n    { time: '3:1:' },\n    { time: '4:0' },\n    { time: '4:3:2' },\n    { time: '5:1' },\n    { time: '6:0' },\n    { time: '6:1:2' },\n    { time: '6:3:2' },\n    { time: '7:0:2' },\n    { time: '7:1:' },\n];\n\nconst kickPart = new Tone.Part(function (time) {\n    kickDrum.triggerAttackRelease('C1', '8n', time)\n}, kicks).start(0);\n\n\nconst bassline = [\n    { 'time': 0, 'note': 'A0', 'duration': '2n' },\n    { 'time': '0:3', 'note': 'F0', 'duration': '2n.' },\n    { 'time': '1:3', 'note': 'D0', 'duration': '2n.' },\n    { 'time': '2:3', 'note': 'F0', 'duration': '1:1' },\n];\n\nconst bass = new Tone.Synth({\n    oscillator: {\n        type: \"triangle\"\n    }\n}).toDestination();\n\nconst bassPart = new Tone.Part(function (time, note) {\n    bass.triggerAttackRelease(note.note, note.duration, time);\n}, bassline).start(0);\n\nconst noise = new Tone.Noise(\"pink\").start();\n\nconst autoFilter = new Tone.AutoFilter({\n    volume: -10,\n    frequency: \"4n\",\n    baseFrequency: 40,\n    octaves: 4\n}).toDestination();\n\nnoise.connect(autoFilter);\n\n/**\n * Sonic generator creates algorithmic sound using realtime data from Twitter\n */\nclass SonicGenerator {\n\n    constructor() {\n\n    }\n\n    start() {\n        Tone.Transport.start();\n        autoFilter.start();\n    }\n\n    stop() {\n        Tone.Transport.stop();\n        autoFilter.stop();\n    }\n\n    receive(words) {\n        if (words.includes(\"yes\")) {\n            let player = new Tone.Player({\n                url: \"https://tonejs.github.io/audio/drum-samples/loops/ominous.mp3\",\n                autostart: true,\n            });\n            let filter = new Tone.Filter(400, 'lowpass').toDestination();\n            let feedbackDelay = new Tone.FeedbackDelay(0.125, 0.5).toDestination();\n\n            // connect the player to the feedback delay and filter in parallel\n            player.connect(filter);\n            player.connect(feedbackDelay);\n        }\n        if (words.includes(\"no\")) {\n            let player = new Tone.Player({\n                url: \"https://tonejs.github.io/audio/berklee/gurgling_theremin_1.mp3\",\n                loop: true,\n                autostart: true,\n            })\n            //create a distortion effect\n            let distortion = new Tone.Distortion(0.4).toDestination();\n            //connect a player to the distortion\n            player.connect(distortion);\n        }\n    }\n}\n\n\nlet SG = new SonicGenerator();\nconst controls = new dat.GUI();\n\nvar volume = { volume: 0.5 };\ncontrols.add(volume, 'volume', 0, 5);\n\nvar filter = { frequency: 8000 };\ncontrols.add(filter, 'frequency', 0, 8000);\n\nvar modulation = { modulation: 1 };\ncontrols.add(modulation, 'modulation', 0, 10);\n\nfunction App() {\n    const [playing, setPlaying] = useState(false);\n    const [lastMessage, setLastMessage] = useState('Hit enter to send');\n    const [log, setLog] = useState([]);\n\n    let pushToConsole = (message) => {\n        var d = new Date();\n        var n = d.toLocaleTimeString();\n        setLog(log.concat(n + \" \" + message));\n        console.log(log);\n    }\n\n    let handleStart = async () => {\n        await Tone.start();\n        SG.start();\n        setPlaying(true);\n        pushToConsole('Sonic Generator started');\n    };\n\n    let handleStop = async () => {\n        await Tone.start();\n        setPlaying(false);\n        SG.stop();\n        pushToConsole('Sonic Generator stopped');\n    };\n\n    let testInputonKeyDown = async (event) => {\n        await Tone.start();\n        if (event.key === 'Enter') {\n            pushToConsole('Received ' + event.target.value);\n            let words = event.target.value.split(' ');\n\n            SG.receive(words);\n            event.target.value = '';\n        }\n    }\n\n    return (\n\n        <div className=\"App\">\n            <div className=\"Console\">\n                {log.map((message, index) => { return <p key={index}>{message}</p> })}\n            </div>\n            <div className=\"Main\">\n                <div className=\"Empty\"></div>\n                <div className=\"Content\">\n                    <div className=\"Title\">Together with Touch - Bangalore 2021</div>\n                    <div className=\"Controls\">\n                        <input type=\"button\" className=\"Button\" href=\"#\" onClick={handleStart} disabled={playing} value=\"Start\" />\n                        <input type=\"button\" className=\"Button\" onClick={handleStop} disabled={!playing} value=\"Stop\" />\n                    </div>\n                </div>\n                <div className=\"TestInput\">\n                    <input type=\"text\" onKeyDown={testInputonKeyDown} placeholder=\"Type something...\" />\n                    <p>{lastMessage}</p>\n                </div>\n                <div className=\"Footer\">\n                    <p>A project at <a href=\"https://publicdomain.garden\">publicdomain.garden</a></p>\n                    <p><a href=\"https://www.instagram.com/lenaheubusch/\">Lena Heubusch</a> x <a href=\"https://www.instagram.com/thestormfactory/\">Avril Stormy Unger</a> x <a href=\"#\">Nikhil Nagaraj</a> x <a href=\"https://www.instagram.com/mathscapes/\">Mathscapes</a> | Supported by <a href=\"https://www.instagram.com/goetheinstitutbangalore/\">Goethe Institute</a>, <a href=\"https://www.instagram.com/walkinstudios/\">Walkin Studios</a></p>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}