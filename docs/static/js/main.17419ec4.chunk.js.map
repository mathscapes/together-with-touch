{"version":3,"sources":["App.js","index.js"],"names":["gui","dat","basicPanel","addFolder","basic","volume","bpm","add","onFinishChange","Tone","rampTo","signalPanel","signal","modulation","harmonicity","chords","SonicGenerator","this","noise","type","autoFilter","frequency","baseFrequency","octaves","toDestination","connect","synthA","modulationIndex","synthB","loopA","time","triggerAttackRelease","start","loopB","synth","stop","chordEvent","chord","Math","random","floor","length","loop","loopEnd","App","useState","playing","setPlaying","lastMessage","log","setLog","SG","pushToConsole","message","concat","console","handleStart","a","handleStop","testInputonKeyDown","event","key","target","value","split","receive","className","map","index","href","onClick","disabled","onKeyDown","placeholder","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17419ec4.chunk.js","sourcesContent":["/**\n * Together with Touch - Bangalore 2021\n */\n\nimport './App.css';\nimport * as Tone from 'tone';\nimport React, { useState } from 'react';\nimport * as dat from 'dat.gui';\n\n\nconst gui = new dat.GUI();\n\nvar basicPanel = gui.addFolder('Basic (Experimental)');\nvar basic = { volume: 0.5, bpm: 80 };\nbasicPanel.add(basic, 'volume', 0, 1);\n\nbasicPanel.add(basic, 'bpm', 40, 200)\n    .onFinishChange(() => {\n        Tone.Transport.bpm.rampTo(basic.bpm, 10);\n    });\n\nvar signalPanel = gui.addFolder('Signal (Experimental)');\nvar signal = { modulation: 0.5, harmonicity: 0.3 };\nsignalPanel.add(signal, 'modulation', 0, 1);\nsignalPanel.add(signal, 'harmonicity', 0, 1);\n\nconst notes = [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"];\nconst octaves = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\nconst sharps = [\"\", \"b\"];\n\nconst chords = [\n    ['A4', 'Cb4', 'E4'],\n    ['A4', 'C4', 'E4'],\n    ['C4', 'E4', 'G4'],\n    ['C4', 'Eb4', 'G4'],\n    ['D4', 'Fb4', 'A4'],\n    ['D4', 'F4', 'A4'],\n    ['E4', 'Gb4', 'B4'],\n    ['E4', 'G4', 'B4'],\n    ['F4', 'A4', 'C4'],\n    ['F4', 'Ab4', 'C4'],\n    ['G4', 'B4', 'D4'],\n    ['G4', 'Bb4', 'D4']\n];\n\nfunction getRandomNote() {\n    let note = notes[Math.floor(Math.random() * notes.length)];\n    let octave = octaves[Math.floor(Math.random() * octaves.length)];\n    let sharp = sharps[Math.floor(Math.random() * sharps.length)];\n    return note + sharp + octave;\n}\n\nfunction getRandomChord() {\n    return chords[Math.floor(Math.random() * chords.length)];\n}\n\n/**\n * Sonic generator creates algorithmic sound using realtime data from Twitter\n */\nclass SonicGenerator {\n\n    constructor() {\n        this.noise = new Tone.Noise({\n            type: \"white\",\n            volume: -10\n        });\n        this.autoFilter = new Tone.AutoFilter({\n            frequency: \"4n\",\n            baseFrequency: 50,\n            octaves: 2\n        }).toDestination();\n        this.noise.connect(this.autoFilter);\n\n        this.synthA = new Tone.AMSynth({\n            harmonicity: signal.harmonicity,\n            modulationIndex: signal.modulation,\n            volume: -10\n        }).toDestination();\n        this.synthB = new Tone.FMSynth({\n            harmonicity: signal.harmonicity,\n            modulationIndex: signal.modulation,\n            volume: -20\n        }).toDestination();\n\n        this.loopA = new Tone.Loop(time => {\n            this.synthA.triggerAttackRelease(\"C1\", \"8n\", time);\n        }, \"4n\").start(0);\n\n        this.loopB = new Tone.Loop(time => {\n            this.synthB.triggerAttackRelease(\"C2\", \"8n\", time);\n        }, \"4n\").start(\"8n\");\n\n\n        this.synth = new Tone.PolySynth().toDestination();\n\n    }\n\n    start() {\n        Tone.Transport.start();\n        this.autoFilter.start();\n        this.noise.start();\n    }\n\n    stop() {\n        Tone.Transport.stop();\n        this.autoFilter.stop();\n        this.noise.stop();\n    }\n\n    receive() {\n        this.chordEvent = new Tone.ToneEvent(((time, chord) => {\n            this.synth.triggerAttackRelease(chord, Math.random() * 1.5, time);\n        }), getRandomChord());\n\n        this.chordEvent.start();\n        this.chordEvent.loop = Math.floor(Math.random() * 8);\n        this.chordEvent.loopEnd = \"1m\";\n    }\n}\n\nfunction App() {\n    const [playing, setPlaying] = useState(false);\n    const [lastMessage, setLastMessage] = useState('Hit enter to send');\n    const [log, setLog] = useState([]);\n\n    let SG = new SonicGenerator();\n\n    let pushToConsole = (message) => {\n        setLog(log.concat(message));\n        console.log(log);\n    }\n\n    let handleStart = async () => {\n        await Tone.start();\n        SG.start();\n        setPlaying(true);\n        pushToConsole('Sonic Generator started');\n    };\n\n    let handleStop = async () => {\n        await Tone.start();\n        setPlaying(false);\n        SG.stop();\n        pushToConsole('Sonic Generator stopped');\n    };\n\n    let testInputonKeyDown = async (event) => {\n        await Tone.start();\n        if (event.key === 'Enter') {\n            // setLastMessage('Received ' + event.target.value);\n            pushToConsole('Received ' + event.target.value);\n            let words = event.target.value.split(' ');\n\n            SG.receive();\n            event.target.value = '';\n        }\n    }\n\n    return (\n\n        <div className=\"App\">\n            <div className=\"Console\">\n                {log.map((message, index) => { return <p key={index}>{message}</p> })}\n            </div>\n            <div className=\"Main\">\n                <div className=\"Empty\"></div>\n                <div className=\"Content\">\n                    <div className=\"Title\">Together with Touch - Bangalore 2021</div>\n                    <div className=\"Controls\">\n                        <input type=\"button\" className=\"Button\" href=\"#\" onClick={handleStart} disabled={playing} value=\"Start\" />\n                        <input type=\"button\" className=\"Button\" onClick={handleStop} disabled={!playing} value=\"Stop\" />\n                    </div>\n                </div>\n                <div className=\"TestInput\">\n                    <input type=\"text\" onKeyDown={testInputonKeyDown} placeholder=\"Type something...\" />\n                    <p>{lastMessage}</p>\n                </div>\n                <div className=\"Footer\">\n                    <p>A project at <a href=\"https://publicdomain.garden\">publicdomain.garden</a></p>\n                    <p><a href=\"https://www.instagram.com/lenaheubusch/\">Lena Heubusch</a> x <a href=\"https://www.instagram.com/thestormfactory/\">Avril Stormy Unger</a> x <a href=\"#\">Nikhil Nagaraj</a> x <a href=\"https://www.instagram.com/mathscapes/\">Mathscapes</a> | Supported by <a href=\"https://www.instagram.com/goetheinstitutbangalore/\">Goethe Institute</a>, <a href=\"https://www.instagram.com/walkinstudios/\">Walkin Studios</a></p>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}